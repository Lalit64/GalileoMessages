var e=Object.defineProperty,t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,i=(t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,s=(e,s)=>{for(var o in s||(s={}))r.call(s,o)&&i(e,o,s[o]);if(t)for(var o of t(s))n.call(s,o)&&i(e,o,s[o]);return e};"undefined"!=typeof require&&require;function o(){}function a(e,t){for(const r in t)e[r]=t[r];return e}function c(e){return e()}function u(){return Object.create(null)}function h(e){e.forEach(c)}function l(e){return"function"==typeof e}function d(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let f;function p(e,t){return f||(f=document.createElement("a")),f.href=t,e===f.href}function m(e,t,r,n){if(e){const i=g(e,t,r,n);return e[0](i)}}function g(e,t,r,n){return e[1]&&n?a(r.ctx.slice(),e[1](n(t))):r.ctx}function y(e,t,r,n){if(e[2]&&n){const i=e[2](n(r));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],r=Math.max(t.dirty.length,i.length);for(let n=0;n<r;n+=1)e[n]=t.dirty[n]|i[n];return e}return t.dirty|i}return t.dirty}function v(e,t,r,n,i,s){if(i){const o=g(t,r,n,s);e.p(o,i)}}function b(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let e=0;e<r;e++)t[e]=-1;return t}return-1}function _(e){const t={};for(const r in e)"$"!==r[0]&&(t[r]=e[r]);return t}function w(e,t){const r={};t=new Set(t);for(const n in e)t.has(n)||"$"===n[0]||(r[n]=e[n]);return r}function T(e){return e&&l(e.destroy)?e.destroy:o}let O,E=!1;function $(e,t,r,n){for(;e<t;){const i=e+(t-e>>1);r(i)<=n?e=i+1:t=i}return e}function S(e,t){if(E){for(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if("HEAD"===e.nodeName){const e=[];for(let r=0;r<t.length;r++){const n=t[r];void 0!==n.claim_order&&e.push(n)}t=e}const r=new Int32Array(t.length+1),n=new Int32Array(t.length);r[0]=-1;let i=0;for(let c=0;c<t.length;c++){const e=t[c].claim_order,s=(i>0&&t[r[i]].claim_order<=e?i+1:$(1,i,(e=>t[r[e]].claim_order),e))-1;n[c]=r[s]+1;const o=s+1;r[o]=c,i=Math.max(o,i)}const s=[],o=[];let a=t.length-1;for(let c=r[i]+1;0!=c;c=n[c-1]){for(s.push(t[c-1]);a>=c;a--)o.push(t[a]);a--}for(;a>=0;a--)o.push(t[a]);s.reverse(),o.sort(((e,t)=>e.claim_order-t.claim_order));for(let c=0,u=0;c<o.length;c++){for(;u<s.length&&o[c].claim_order>=s[u].claim_order;)u++;const t=u<s.length?s[u]:null;e.insertBefore(o[c],t)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild);null!==e.actual_end_child&&void 0===e.actual_end_child.claim_order;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?void 0===t.claim_order&&t.parentNode===e||e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else t.parentNode===e&&null===t.nextSibling||e.appendChild(t)}function x(e,t,r){E&&!r?S(e,t):t.parentNode===e&&t.nextSibling==r||e.insertBefore(t,r||null)}function P(e){e.parentNode.removeChild(e)}function C(e){return document.createElement(e)}function j(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function k(e){return document.createTextNode(e)}function A(){return k(" ")}function I(){return k("")}function R(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function N(e){return function(t){return t.preventDefault(),e.call(this,t)}}function M(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function U(e,t){const r=Object.getOwnPropertyDescriptors(e.__proto__);for(const n in t)null==t[n]?e.removeAttribute(n):"style"===n?e.style.cssText=t[n]:"__value"===n?e.value=e[n]=t[n]:r[n]&&r[n].set?e[n]=t[n]:M(e,n,t[n])}function D(e){return Array.from(e.childNodes)}function B(e,t,r,n,i=!1){!function(e){void 0===e.claim_info&&(e.claim_info={last_index:0,total_claimed:0})}(e);const s=(()=>{for(let n=e.claim_info.last_index;n<e.length;n++){const s=e[n];if(t(s)){const t=r(s);return void 0===t?e.splice(n,1):e[n]=t,i||(e.claim_info.last_index=n),s}}for(let n=e.claim_info.last_index-1;n>=0;n--){const s=e[n];if(t(s)){const t=r(s);return void 0===t?e.splice(n,1):e[n]=t,i?void 0===t&&e.claim_info.last_index--:e.claim_info.last_index=n,s}}return n()})();return s.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,s}function H(e,t,r,n){return B(e,(e=>e.nodeName===t),(e=>{const t=[];for(let n=0;n<e.attributes.length;n++){const i=e.attributes[n];r[i.name]||t.push(i.name)}t.forEach((t=>e.removeAttribute(t)))}),(()=>n(t)))}function L(e,t,r){return H(e,t,r,C)}function F(e,t,r){return H(e,t,r,j)}function G(e,t){return B(e,(e=>3===e.nodeType),(e=>{const r=""+t;if(e.data.startsWith(r)){if(e.data.length!==r.length)return e.splitText(r.length)}else e.data=r}),(()=>k(t)),!0)}function z(e){return G(e," ")}function q(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function W(e,t){e.value=null==t?"":t}function J(e,t,r,n){e.style.setProperty(t,r,n?"important":"")}function V(e,t,r){e.classList[r?"add":"remove"](t)}function K(e,t=document.body){return Array.from(t.querySelectorAll(e))}function X(e){O=e}function Q(){if(!O)throw new Error("Function called outside component initialization");return O}function Y(e){Q().$$.on_mount.push(e)}function Z(e){Q().$$.after_update.push(e)}function ee(){const e=Q();return(t,r)=>{const n=e.$$.callbacks[t];if(n){const i=function(e,t,r=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,!1,t),n}(t,r);n.slice().forEach((t=>{t.call(e,i)}))}}}function te(e,t){Q().$$.context.set(e,t)}const re=[],ne=[],ie=[],se=[],oe=Promise.resolve();let ae=!1;function ce(e){ie.push(e)}let ue=!1;const he=new Set;function le(){if(!ue){ue=!0;do{for(let e=0;e<re.length;e+=1){const t=re[e];X(t),de(t.$$)}for(X(null),re.length=0;ne.length;)ne.pop()();for(let e=0;e<ie.length;e+=1){const t=ie[e];he.has(t)||(he.add(t),t())}ie.length=0}while(re.length);for(;se.length;)se.pop()();ae=!1,ue=!1,he.clear()}}function de(e){if(null!==e.fragment){e.update(),h(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ce)}}const fe=new Set;let pe;function me(){pe={r:0,c:[],p:pe}}function ge(){pe.r||h(pe.c),pe=pe.p}function ye(e,t){e&&e.i&&(fe.delete(e),e.i(t))}function ve(e,t,r,n){if(e&&e.o){if(fe.has(e))return;fe.add(e),pe.c.push((()=>{fe.delete(e),n&&(r&&e.d(1),n())})),e.o(t)}}const be="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function _e(e,t){const r={},n={},i={$$scope:1};let s=e.length;for(;s--;){const o=e[s],a=t[s];if(a){for(const e in o)e in a||(n[e]=1);for(const e in a)i[e]||(r[e]=a[e],i[e]=1);e[s]=a}else for(const e in o)i[e]=1}for(const o in n)o in r||(r[o]=void 0);return r}function we(e){return"object"==typeof e&&null!==e?e:{}}function Te(e){e&&e.c()}function Oe(e,t){e&&e.l(t)}function Ee(e,t,r,n){const{fragment:i,on_mount:s,on_destroy:o,after_update:a}=e.$$;i&&i.m(t,r),n||ce((()=>{const t=s.map(c).filter(l);o?o.push(...t):h(t),e.$$.on_mount=[]})),a.forEach(ce)}function $e(e,t){const r=e.$$;null!==r.fragment&&(h(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function Se(e,t){-1===e.$$.dirty[0]&&(re.push(e),ae||(ae=!0,oe.then(le)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function xe(e,t,r,n,i,s,a,c=[-1]){const l=O;X(e);const d=e.$$={fragment:null,ctx:null,props:s,update:o,not_equal:i,bound:u(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:t.context||[]),callbacks:u(),dirty:c,skip_bound:!1,root:t.target||l.$$.root};a&&a(d.root);let f=!1;if(d.ctx=r?r(e,t.props||{},((t,r,...n)=>{const s=n.length?n[0]:r;return d.ctx&&i(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),f&&Se(e,t)),r})):[],d.update(),f=!0,h(d.before_update),d.fragment=!!n&&n(d.ctx),t.target){if(t.hydrate){E=!0;const e=D(t.target);d.fragment&&d.fragment.l(e),e.forEach(P)}else d.fragment&&d.fragment.c();t.intro&&ye(e.$$.fragment),Ee(e,t.target,t.anchor,t.customElement),E=!1,le()}X(l)}class Pe{$destroy(){$e(this,1),this.$destroy=o}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ce=[];function je(e,t=o){let r;const n=new Set;function i(t){if(d(e,t)&&(e=t,r)){const t=!Ce.length;for(const r of n)r[1](),Ce.push(r,e);if(t){for(let e=0;e<Ce.length;e+=2)Ce[e][0](Ce[e+1]);Ce.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,a=o){const c=[s,a];return n.add(c),1===n.size&&(r=t(i)||o),s(e),()=>{n.delete(c),0===n.size&&(r(),r=null)}}}}const ke={"X-Client-Info":"supabase-js/1.22.6"};var Ae="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Re={exports:{}};!function(e,t){var r,n="undefined"!=typeof self?self:Ae,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();r=i,function(e){var t="URLSearchParams"in r,n="Symbol"in r&&"iterator"in Symbol,i="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in r,o="ArrayBuffer"in r;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function h(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function m(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var r;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:t&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&(r=e)&&DataView.prototype.isPrototypeOf(r)?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,r,n=f(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=p(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=u(e),t=h(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[u(e)]},d.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},d.prototype.set=function(e,t){this.map[u(e)]=h(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),l(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),l(e)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var r,n,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),v.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var T=[301,302,303,307,308];w.redirect=function(e,t){if(-1===T.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},e.DOMException=r.DOMException;try{new e.DOMException}catch(E){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function O(t,r){return new Promise((function(n,s){var o=new b(t,r);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new w(i,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",c)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}O.polyfill=!0,r.fetch||(r.fetch=O,r.Headers=d,r.Request=b,r.Response=w),e.Headers=d,e.Request=b,e.Response=w,e.fetch=O,Object.defineProperty(e,"__esModule",{value:!0})}({}),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t}(Re,Re.exports);var Ne=Ie(Re.exports),Me=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const Ue=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);function De(e,t,r,n){return Me(this,void 0,void 0,(function*(){return new Promise(((i,s)=>{Ne(t,((e,t,r)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e||(n.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},null==t?void 0:t.headers),n.body=JSON.stringify(r)),n})(e,r,n)).then((e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?i:e.json()})).then((e=>i(e))).catch((e=>((e,t)=>{if("function"!=typeof e.json)return t(e);e.json().then((r=>t({message:Ue(r),status:(null==e?void 0:e.status)||500})))})(e,s)))}))}))}function Be(e,t,r){return Me(this,void 0,void 0,(function*(){return De("POST",e,r,t)}))}const He={"X-Client-Info":"gotrue-js/1.17.1"},Le="supabase.auth.token",Fe={name:"sb:token",lifetime:28800,domain:"",path:"/",sameSite:"lax"};function Ge(e,t){var r,n,i;return function(e,t,r){const n=r||{},i=encodeURIComponent,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");const o=i(t);if(o&&!s.test(o))throw new TypeError("argument val is invalid");let a=e+"="+o;if(null!=n.maxAge){const e=n.maxAge-0;if(isNaN(e)||!isFinite(e))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(e)}if(n.domain){if(!s.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!s.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}(e.name,e.value,{maxAge:e.maxAge,expires:new Date(Date.now()+1e3*e.maxAge),httpOnly:!0,secure:t,path:null!==(r=e.path)&&void 0!==r?r:"/",domain:null!==(n=e.domain)&&void 0!==n?n:"",sameSite:null!==(i=e.sameSite)&&void 0!==i?i:"lax"})}function ze(e,t,r){const n=r.map((t=>Ge(t,function(e){if(!e||!e.headers||!e.headers.host)throw new Error('The "host" request header is not available');const t=e.headers.host.indexOf(":")>-1&&e.headers.host.split(":")[0]||e.headers.host;return!(["localhost","127.0.0.1"].indexOf(t)>-1||t.endsWith(".local"))}(e)))),i=t.getHeader("Set-Cookie");i&&(i instanceof Array?Array.prototype.push.apply(n,i):"string"==typeof i&&n.push(i)),t.setHeader("Set-Cookie",n)}function qe(e,t,r){ze(e,t,[r])}function We(e){return Math.round(Date.now()/1e3)+e}const Je=()=>"undefined"!=typeof window;function Ve(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}var Ke=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class Xe{constructor({url:e="",headers:t={},cookieOptions:r}){this.url=e,this.headers=t,this.cookieOptions=Object.assign(Object.assign({},Fe),r)}signUpWithEmail(e,t,r={}){return Ke(this,void 0,void 0,(function*(){try{let n=Object.assign({},this.headers),i="";r.redirectTo&&(i="?redirect_to="+encodeURIComponent(r.redirectTo));const s=yield Be(`${this.url}/signup${i}`,{email:e,password:t},{headers:n});let o=Object.assign({},s);return o.expires_in&&(o.expires_at=We(s.expires_in)),{data:o,error:null}}catch(n){return{data:null,error:n}}}))}signInWithEmail(e,t,r={}){return Ke(this,void 0,void 0,(function*(){try{let n=Object.assign({},this.headers),i="?grant_type=password";r.redirectTo&&(i+="&redirect_to="+encodeURIComponent(r.redirectTo));const s=yield Be(`${this.url}/token${i}`,{email:e,password:t},{headers:n});let o=Object.assign({},s);return o.expires_in&&(o.expires_at=We(s.expires_in)),{data:o,error:null}}catch(n){return{data:null,error:n}}}))}signUpWithPhone(e,t){return Ke(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers);const n=yield Be(`${this.url}/signup`,{phone:e,password:t},{headers:r});let i=Object.assign({},n);return i.expires_in&&(i.expires_at=We(n.expires_in)),{data:i,error:null}}catch(r){return{data:null,error:r}}}))}signInWithPhone(e,t){return Ke(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers),n="?grant_type=password";const i=yield Be(`${this.url}/token${n}`,{phone:e,password:t},{headers:r});let s=Object.assign({},i);return s.expires_in&&(s.expires_at=We(i.expires_in)),{data:s,error:null}}catch(r){return{data:null,error:r}}}))}sendMagicLinkEmail(e,t={}){return Ke(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers),n="";t.redirectTo&&(n+="?redirect_to="+encodeURIComponent(t.redirectTo));return{data:yield Be(`${this.url}/magiclink${n}`,{email:e},{headers:r}),error:null}}catch(r){return{data:null,error:r}}}))}sendMobileOTP(e){return Ke(this,void 0,void 0,(function*(){try{let t=Object.assign({},this.headers);return{data:yield Be(`${this.url}/otp`,{phone:e},{headers:t}),error:null}}catch(t){return{data:null,error:t}}}))}verifyMobileOTP(e,t,r={}){return Ke(this,void 0,void 0,(function*(){try{let n=Object.assign({},this.headers);return{data:yield Be(`${this.url}/verify`,{phone:e,token:t,type:"sms",redirect_to:r.redirectTo},{headers:n}),error:null}}catch(n){return{data:null,error:n}}}))}inviteUserByEmail(e,t={}){return Ke(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers),n="";t.redirectTo&&(n+="?redirect_to="+encodeURIComponent(t.redirectTo));return{data:yield Be(`${this.url}/invite${n}`,{email:e},{headers:r}),error:null}}catch(r){return{data:null,error:r}}}))}resetPasswordForEmail(e,t={}){return Ke(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers),n="";t.redirectTo&&(n+="?redirect_to="+encodeURIComponent(t.redirectTo));return{data:yield Be(`${this.url}/recover${n}`,{email:e},{headers:r}),error:null}}catch(r){return{data:null,error:r}}}))}_createRequestHeaders(e){const t=Object.assign({},this.headers);return t.Authorization=`Bearer ${e}`,t}signOut(e){return Ke(this,void 0,void 0,(function*(){try{return yield Be(`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(t){return{error:t}}}))}getUrlForProvider(e,t){let r=[`provider=${encodeURIComponent(e)}`];return(null==t?void 0:t.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(null==t?void 0:t.scopes)&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),`${this.url}/authorize?${r.join("&")}`}getUser(e){return Ke(this,void 0,void 0,(function*(){try{const t=yield function(e,t){return Me(this,void 0,void 0,(function*(){return De("GET",e,t)}))}(`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:t,data:t,error:null}}catch(t){return{user:null,data:null,error:t}}}))}updateUser(e,t){return Ke(this,void 0,void 0,(function*(){try{const r=yield function(e,t,r){return Me(this,void 0,void 0,(function*(){return De("PUT",e,r,t)}))}(`${this.url}/user`,t,{headers:this._createRequestHeaders(e)});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}}))}deleteUser(e,t){return Ke(this,void 0,void 0,(function*(){try{const r=yield function(e,t,r){return Me(this,void 0,void 0,(function*(){return De("DELETE",e,r,t)}))}(`${this.url}/admin/users/${e}`,{},{headers:this._createRequestHeaders(t)});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}}))}refreshAccessToken(e){return Ke(this,void 0,void 0,(function*(){try{const t=yield Be(`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers});let r=Object.assign({},t);return r.expires_in&&(r.expires_at=We(t.expires_in)),{data:r,error:null}}catch(t){return{data:null,error:t}}}))}setAuthCookie(e,t){"POST"!==e.method&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:r,session:n}=e.body;if(!r)throw new Error("Auth event missing!");if("SIGNED_IN"===r){if(!n)throw new Error("Auth session missing!");qe(e,t,{name:this.cookieOptions.name,value:n.access_token,domain:this.cookieOptions.domain,maxAge:this.cookieOptions.lifetime,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}"SIGNED_OUT"===r&&function(e,t,r){qe(e,t,{name:r,value:"",maxAge:-1})}(e,t,this.cookieOptions.name),t.status(200).json({})}getUserByCookie(e){return Ke(this,void 0,void 0,(function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");if(!e.cookies[this.cookieOptions.name])throw new Error("No cookie found!");const t=e.cookies[this.cookieOptions.name],{user:r,error:n}=yield this.getUser(t);if(n)throw n;return{user:r,data:r,error:null}}catch(t){return{user:null,data:null,error:t}}}))}generateLink(e,t,r={}){return Ke(this,void 0,void 0,(function*(){try{return{data:yield Be(`${this.url}/admin/generate_link`,{type:e,email:t,password:r.password,data:r.data,redirect_to:r.redirectTo},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}}))}}var Qe=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const Ye={url:"http://localhost:9999",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:He};class Ze extends class{constructor(e){this.stateChangeEmitters=new Map;const t=Object.assign(Object.assign({},Ye),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.localStorage=t.localStorage||globalThis.localStorage,this.api=new Xe({url:t.url,headers:t.headers,cookieOptions:t.cookieOptions}),this._recoverSession(),this._recoverAndRefresh();try{t.detectSessionInUrl&&Je()&&Ve("access_token")&&this.getSessionFromUrl({storeSession:!0})}catch(r){console.log("Error getting session from URL.")}}signUp({email:e,password:t,phone:r},n={}){return Qe(this,void 0,void 0,(function*(){try{this._removeSession();const{data:i,error:s}=r&&t?yield this.api.signUpWithPhone(r,t):yield this.api.signUpWithEmail(e,t,{redirectTo:n.redirectTo});if(s)throw s;if(!i)throw"An error occurred on sign up.";let o=null,a=null;return i.access_token&&(o=i,a=o.user,this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),i.id&&(a=i),{data:i,user:a,session:o,error:null}}catch(i){return{data:null,user:null,session:null,error:i}}}))}signIn({email:e,phone:t,password:r,refreshToken:n,provider:i},s={}){return Qe(this,void 0,void 0,(function*(){try{if(this._removeSession(),e&&!r){const{error:t}=yield this.api.sendMagicLinkEmail(e,{redirectTo:s.redirectTo});return{data:null,user:null,session:null,error:t}}if(e&&r)return this._handleEmailSignIn(e,r,{redirectTo:s.redirectTo});if(t&&!r){const{error:e}=yield this.api.sendMobileOTP(t);return{data:null,user:null,session:null,error:e}}if(t&&r)return this._handlePhoneSignIn(t,r);if(n){const{error:e}=yield this._callRefreshToken(n);if(e)throw e;return{data:this.currentSession,user:this.currentUser,session:this.currentSession,error:null}}if(i)return this._handleProviderSignIn(i,{redirectTo:s.redirectTo,scopes:s.scopes});throw new Error("You must provide either an email, phone number or a third-party provider.")}catch(o){return{data:null,user:null,session:null,error:o}}}))}verifyOTP({phone:e,token:t},r={}){return Qe(this,void 0,void 0,(function*(){try{this._removeSession();const{data:n,error:i}=yield this.api.verifyMobileOTP(e,t,r);if(i)throw i;if(!n)throw"An error occurred on token verification.";let s=null,o=null;return n.access_token&&(s=n,o=s.user,this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),n.id&&(o=n),{data:n,user:o,session:s,error:null}}catch(n){return{data:null,user:null,session:null,error:n}}}))}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return Qe(this,void 0,void 0,(function*(){try{if(!(null===(e=this.currentSession)||void 0===e?void 0:e.access_token))throw new Error("Not logged in.");const{error:t}=yield this._callRefreshToken();if(t)throw t;return{data:this.currentSession,user:this.currentUser,error:null}}catch(t){return{data:null,user:null,error:t}}}))}update(e){var t;return Qe(this,void 0,void 0,(function*(){try{if(!(null===(t=this.currentSession)||void 0===t?void 0:t.access_token))throw new Error("Not logged in.");const{user:r,error:n}=yield this.api.updateUser(this.currentSession.access_token,e);if(n)throw n;if(!r)throw Error("Invalid user data.");const i=Object.assign(Object.assign({},this.currentSession),{user:r});return this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED"),{data:r,user:r,error:null}}catch(r){return{data:null,user:null,error:r}}}))}setSession(e){return Qe(this,void 0,void 0,(function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:r}=yield this.api.refreshAccessToken(e);return r?{session:null,error:r}:t?(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{session:t,error:null}):{session:null,error:{name:"Invalid refresh_token",message:"JWT token provided is Invalid"}}}catch(t){return{error:t,session:null}}}))}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:null}),this.currentSession}getSessionFromUrl(e){return Qe(this,void 0,void 0,(function*(){try{if(!Je())throw new Error("No browser detected.");const t=Ve("error_description");if(t)throw new Error(t);const r=Ve("provider_token"),n=Ve("access_token");if(!n)throw new Error("No access_token detected.");const i=Ve("expires_in");if(!i)throw new Error("No expires_in detected.");const s=Ve("refresh_token");if(!s)throw new Error("No refresh_token detected.");const o=Ve("token_type");if(!o)throw new Error("No token_type detected.");const a=Math.round(Date.now()/1e3)+parseInt(i),{user:c,error:u}=yield this.api.getUser(n);if(u)throw u;const h={provider_token:r,access_token:n,expires_in:parseInt(i),expires_at:a,refresh_token:s,token_type:o,user:c};return(null==e?void 0:e.storeSession)&&(this._saveSession(h),this._notifyAllSubscribers("SIGNED_IN"),"recovery"===Ve("type")&&this._notifyAllSubscribers("PASSWORD_RECOVERY")),window.location.hash="",{data:h,error:null}}catch(t){return{data:null,error:t}}}))}signOut(){var e;return Qe(this,void 0,void 0,(function*(){const t=null===(e=this.currentSession)||void 0===e?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),t){const{error:e}=yield this.api.signOut(t);if(e)return{error:e}}return{error:null}}))}onAuthStateChange(e){try{const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r=this,n={id:t,callback:e,unsubscribe:()=>{r.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,n),{data:n,error:null}}catch(t){return{data:null,error:t}}}_handleEmailSignIn(e,t,r={}){var n,i;return Qe(this,void 0,void 0,(function*(){try{const{data:s,error:o}=yield this.api.signInWithEmail(e,t,{redirectTo:r.redirectTo});return o||!s?{data:null,user:null,session:null,error:o}:(((null===(n=null==s?void 0:s.user)||void 0===n?void 0:n.confirmed_at)||(null===(i=null==s?void 0:s.user)||void 0===i?void 0:i.email_confirmed_at))&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),{data:s,user:s.user,session:s,error:null})}catch(s){return{data:null,user:null,session:null,error:s}}}))}_handlePhoneSignIn(e,t){var r;return Qe(this,void 0,void 0,(function*(){try{const{data:n,error:i}=yield this.api.signInWithPhone(e,t);return i||!n?{data:null,user:null,session:null,error:i}:((null===(r=null==n?void 0:n.user)||void 0===r?void 0:r.phone_confirmed_at)&&(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN")),{data:n,user:n.user,session:n,error:null})}catch(n){return{data:null,user:null,session:null,error:n}}}))}_handleProviderSignIn(e,t={}){const r=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes});try{return Je()&&(window.location.href=r),{provider:e,url:r,data:null,session:null,user:null,error:null}}catch(n){return r?{provider:e,url:r,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:n}}}_recoverSession(){var e;try{const t=Je()&&(null===(e=this.localStorage)||void 0===e?void 0:e.getItem(Le));if(!t||"string"!=typeof t)return null;const r=JSON.parse(t),{currentSession:n,expiresAt:i}=r;i>=Math.round(Date.now()/1e3)&&(null==n?void 0:n.user)&&(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN"))}catch(t){console.log("error",t)}}_recoverAndRefresh(){return Qe(this,void 0,void 0,(function*(){try{const e=Je()&&(yield this.localStorage.getItem(Le));if(!e)return null;const t=JSON.parse(e),{currentSession:r,expiresAt:n}=t;if(n<Math.round(Date.now()/1e3))if(this.autoRefreshToken&&r.refresh_token){const{error:e}=yield this._callRefreshToken(r.refresh_token);e&&(console.log(e.message),yield this._removeSession())}else this._removeSession();else r&&r.user?(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession())}catch(e){return console.error(e),null}}))}_callRefreshToken(e){var t;return void 0===e&&(e=null===(t=this.currentSession)||void 0===t?void 0:t.refresh_token),Qe(this,void 0,void 0,(function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:r}=yield this.api.refreshAccessToken(e);if(r)throw r;if(!t)throw Error("Invalid session data.");return this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{data:t,error:null}}catch(t){return{data:null,error:t}}}))}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach((t=>t.callback(e,this.currentSession)))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const t=e.expires_at;if(t){const e=t-Math.round(Date.now()/1e3),r=e>60?60:.5;this._startAutoRefreshToken(1e3*(e-r))}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const t={currentSession:e,expiresAt:e.expires_at};Je()&&this.localStorage.setItem(Le,JSON.stringify(t))}_removeSession(){return Qe(this,void 0,void 0,(function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),Je()&&(yield this.localStorage.removeItem(Le))}))}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),e<=0||!this.autoRefreshToken||(this.refreshTokenTimer=setTimeout((()=>this._callRefreshToken()),e),"function"==typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}}{constructor(e){super(e)}}var et=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};class tt{constructor(e){Object.assign(this,e)}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){return void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json"),Ne(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body)}).then((e=>et(this,void 0,void 0,(function*(){var t,r,n;let i=null,s=null,o=null;if(e.ok){const i=null===(t=this.headers.Prefer)||void 0===t?void 0:t.split(",").includes("return=minimal");if("HEAD"!==this.method&&!i){const t=yield e.text();t&&(s="text/csv"===this.headers.Accept?t:JSON.parse(t))}const a=null===(r=this.headers.Prefer)||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),c=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");a&&c&&c.length>1&&(o=parseInt(c[1]))}else if(i=yield e.json(),i&&this.shouldThrowOnError)throw i;return{error:i,data:s,count:o,status:e.status,statusText:e.statusText,body:s}})))).then(e,t)}}class rt extends tt{select(e="*"){let t=!1;const r=e.split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",r),this}order(e,{ascending:t=!0,nullsFirst:r=!1,foreignTable:n}={}){const i=void 0===n?"order":`${n}.order`,s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}.${r?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:t}={}){const r=void 0===t?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){const n=void 0===r?"offset":`${r}.offset`,i=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const e=new rt(this);return e.then=(e,t)=>this.then((t=>{var r,n;return(null===(n=null===(r=t.error)||void 0===r?void 0:r.details)||void 0===n?void 0:n.includes("Results contain 0 rows"))?e({error:null,data:null,count:t.count,status:200,statusText:"OK",body:null}):e(t)}),t),e}csv(){return this.headers.Accept="text/csv",this}}class nt extends rt{constructor(){super(...arguments),this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,t,r){return this.url.searchParams.append(`${e}`,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){const r=void 0===t?"or":`${t}.or`;return this.url.searchParams.append(r,`(${e})`),this}eq(e,t){return this.url.searchParams.append(`${e}`,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(`${e}`,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(`${e}`,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(`${e}`,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(`${e}`,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(`${e}`,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(`${e}`,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(`${e}`,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(`${e}`,`is.${t}`),this}in(e,t){const r=t.map((e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(`${e}`,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cs.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cd.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(t)}`),this}rangeLt(e,t){return this.url.searchParams.append(`${e}`,`sl.${t}`),this}rangeGt(e,t){return this.url.searchParams.append(`${e}`,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(`${e}`,`nxl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(`${e}`,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(`${e}`,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`ov.${t}`):this.url.searchParams.append(`${e}`,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n=null}={}){let i="";"plain"===n?i="pl":"phrase"===n?i="ph":"websearch"===n&&(i="w");const s=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`${i}fts${s}.${t}`),this}fts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`fts${n}.${t}`),this}plfts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`plfts${n}.${t}`),this}phfts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`phfts${n}.${t}`),this}wfts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`wfts${n}.${t}`),this}filter(e,t,r){return this.url.searchParams.append(`${e}`,`${t}.${r}`),this}match(e){return Object.keys(e).forEach((t=>{this.url.searchParams.append(`${t}`,`eq.${e[t]}`)})),this}}class it extends tt{constructor(e,{headers:t={},schema:r}={}){super({}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}select(e="*",{head:t=!1,count:r=null}={}){this.method="GET";let n=!1;const i=e.split("").map((e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e))).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),t&&(this.method="HEAD"),new nt(this)}insert(e,{upsert:t=!1,onConflict:r,returning:n="representation",count:i=null}={}){this.method="POST";const s=[`return=${n}`];if(t&&s.push("resolution=merge-duplicates"),t&&void 0!==r&&this.url.searchParams.set("on_conflict",r),this.body=e,i&&s.push(`count=${i}`),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>`"${e}"`));this.url.searchParams.set("columns",e.join(","))}}return new nt(this)}upsert(e,{onConflict:t,returning:r="representation",count:n=null,ignoreDuplicates:i=!1}={}){this.method="POST";const s=[`resolution=${i?"ignore":"merge"}-duplicates`,`return=${r}`];return void 0!==t&&this.url.searchParams.set("on_conflict",t),this.body=e,n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new nt(this)}update(e,{returning:t="representation",count:r=null}={}){this.method="PATCH";const n=[`return=${t}`];return this.body=e,r&&n.push(`count=${r}`),this.headers.Prefer=n.join(","),new nt(this)}delete({returning:e="representation",count:t=null}={}){this.method="DELETE";const r=[`return=${e}`];return t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new nt(this)}}class st extends tt{constructor(e,{headers:t={},schema:r}={}){super({}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}rpc(e,{count:t=null}={}){return this.method="POST",this.body=e,t&&(void 0!==this.headers.Prefer?this.headers.Prefer+=`,count=${t}`:this.headers.Prefer=`count=${t}`),new nt(this)}}const ot={"X-Client-Info":"postgrest-js/0.33.3"};class at{constructor(e,{headers:t={},schema:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},ot),t),this.schema=r}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){const t=`${this.url}/${e}`;return new it(t,{headers:this.headers,schema:this.schema})}rpc(e,t,{count:r=null}={}){const n=`${this.url}/rpc/${e}`;return new st(n,{headers:this.headers,schema:this.schema}).rpc(t,{count:r})}}var ct,ut;(ut=ct||(ct={})).abstime="abstime",ut.bool="bool",ut.date="date",ut.daterange="daterange",ut.float4="float4",ut.float8="float8",ut.int2="int2",ut.int4="int4",ut.int4range="int4range",ut.int8="int8",ut.int8range="int8range",ut.json="json",ut.jsonb="jsonb",ut.money="money",ut.numeric="numeric",ut.oid="oid",ut.reltime="reltime",ut.time="time",ut.timestamp="timestamp",ut.timestamptz="timestamptz",ut.timetz="timetz",ut.tsrange="tsrange",ut.tstzrange="tstzrange";const ht=(e,t,r={})=>{let n={},i=void 0!==r.skipTypes?r.skipTypes:[];return Object.entries(t).map((([r,s])=>{n[r]=lt(r,e,t,i)})),n},lt=(e,t,r,n)=>{let i=t.find((t=>t.name==e));return!i||n.includes(i.type)?ft(r[e]):dt(i.type,r[e])},dt=(e,t)=>{try{if(null===t)return null;if("_"===e.charAt(0)){let r=e.slice(1,e.length);return _t(t,r)}switch(e){case ct.abstime:return ft(t);case ct.bool:return pt(t);case ct.date:return ft(t);case ct.daterange:return mt(t);case ct.float4:case ct.float8:return gt(t);case ct.int2:case ct.int4:return yt(t);case ct.int4range:return vt(t);case ct.int8:return yt(t);case ct.int8range:return vt(t);case ct.json:case ct.jsonb:return bt(t);case ct.money:case ct.numeric:return gt(t);case ct.oid:return yt(t);case ct.reltime:case ct.time:return ft(t);case ct.timestamp:return wt(t);case ct.timestamptz:case ct.timetz:return ft(t);case ct.tsrange:case ct.tstzrange:return mt(t);default:return ft(t)}}catch(r){return console.log(`Could not convert cell of type ${e} and value ${t}`),console.log(`This is the error: ${r}`),t}},ft=e=>e,pt=e=>{switch(e){case"t":return!0;case"f":return!1;default:return null}},mt=e=>{let t=JSON.parse(e);return[new Date(t[0]),new Date(t[1])]},gt=e=>parseFloat(e),yt=e=>parseInt(e),vt=e=>{let t=JSON.parse(e);return[parseInt(t[0]),parseInt(t[1])]},bt=e=>JSON.parse(e),_t=(e,t)=>{let r=e.slice(1,e.length-1);return(r.length>0?r.split(","):[]).map((e=>dt(t,e)))},wt=e=>e.replace(" ","T"),Tt={"X-Client-Info":"realtime-js/1.1.3"};var Ot,Et,$t,St,xt,Pt,Ct;(Et=Ot||(Ot={}))[Et.connecting=0]="connecting",Et[Et.open=1]="open",Et[Et.closing=2]="closing",Et[Et.closed=3]="closed",(St=$t||($t={})).closed="closed",St.errored="errored",St.joined="joined",St.joining="joining",St.leaving="leaving",(Pt=xt||(xt={})).close="phx_close",Pt.error="phx_error",Pt.join="phx_join",Pt.reply="phx_reply",Pt.leave="phx_leave",(Ct||(Ct={})).websocket="websocket";class jt{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}class kt{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout))}trigger(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class At{constructor(e,t={},r){this.topic=e,this.params=t,this.socket=r,this.bindings=[],this.state=$t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new kt(this,xt.join,this.params,this.timeout),this.rejoinTimer=new jt((()=>this.rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=$t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this.onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=$t.closed,this.socket.remove(this)})),this.onError((e=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this.isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())})),this.on(xt.reply,((e,t)=>{this.trigger(this.replyEventName(t),e)}))}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on(xt.close,e)}onError(e){this.on(xt.error,(t=>e(t)))}on(e,t){this.bindings.push({event:e,callback:t})}off(e){this.bindings=this.bindings.filter((t=>t.event!==e))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new kt(this,e,t,r);return this.canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}unsubscribe(e=this.timeout){this.state=$t.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(xt.close,"leave",this.joinRef())};this.joinPush.destroy();let r=new kt(this,xt.leave,{},e);return r.receive("ok",(()=>t())).receive("timeout",(()=>t())),r.send(),this.canPush()||r.trigger("ok",{}),r}onMessage(e,t,r){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}sendJoin(e){this.state=$t.joining,this.joinPush.resend(e)}rejoin(e=this.timeout){this.isLeaving()||this.sendJoin(e)}trigger(e,t,r){let{close:n,error:i,leave:s,join:o}=xt;if(r&&[n,i,s,o].indexOf(e)>=0&&r!==this.joinRef())return;let a=this.onMessage(e,t,r);if(t&&!a)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter((r=>"*"===r.event?e===(null==t?void 0:t.type):r.event===e)).map((e=>e.callback(a,r)))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===$t.closed}isErrored(){return this.state===$t.errored}isJoined(){return this.state===$t.joined}isJoining(){return this.state===$t.joining}isLeaving(){return this.state===$t.leaving}}var It=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")},Rt=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return It()}try{return __global__||It()}finally{delete Object.prototype.__global__}}();var Nt,Mt="1.0.34";if("object"==typeof globalThis)Nt=globalThis;else try{Nt=Rt}catch(Ur){}finally{if(Nt||"undefined"==typeof window||(Nt=window),!Nt)throw new Error("Could not determine global this")}var Ut=Nt.WebSocket||Nt.MozWebSocket,Dt=Mt;function Bt(e,t){return t?new Ut(e,t):new Ut(e)}Ut&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(Bt,e,{get:function(){return Ut[e]}})}));var Ht={w3cwebsocket:Ut?Bt:null,version:Dt};class Lt{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),i=t.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(e.slice(s,s+n));s+=n;const a=r.decode(e.slice(s,s+i));s+=i;return{ref:null,topic:o,event:a,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}var Ft=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const Gt=()=>{};class zt{constructor(e,t){this.channels=[],this.endPoint="",this.headers=Tt,this.params={},this.timeout=1e4,this.transport=Ht.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Gt,this.conn=null,this.sendBuffer=[],this.serializer=new Lt,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${Ct.websocket}`,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.transport)&&(this.transport=t.transport),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs),(null==t?void 0:t.longpollerTimeout)&&(this.longpollerTimeout=t.longpollerTimeout),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new jt((()=>Ft(this,void 0,void 0,(function*(){yield this.disconnect(),this.connect()}))),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){return new Promise(((r,n)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),r({error:null,data:!0})}catch(Ur){r({error:Ur,data:!1})}}))}log(e,t,r){this.logger(e,t,r)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case Ot.connecting:return"connecting";case Ot.open:return"open";case Ot.closing:return"closing";default:return"closed"}}isConnected(){return"open"===this.connectionState()}remove(e){this.channels=this.channels.filter((t=>t.joinRef()!==e.joinRef()))}channel(e,t={}){let r=new At(e,t,this);return this.channels.push(r),r}push(e){let{topic:t,event:r,payload:n,ref:i}=e,s=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${r} (${i})`,n),this.isConnected()?s():this.sendBuffer.push(s)}onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:r,payload:n,ref:i}=e;i&&i===this.pendingHeartbeatRef?this.pendingHeartbeatRef=null:r===(null==n?void 0:n.type)&&this._resetHeartbeat(),this.log("receive",`${n.status||""} ${t} ${r} ${i&&"("+i+")"||""}`,n),this.channels.filter((e=>e.isMember(t))).forEach((e=>e.trigger(r,n,i))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e.trigger(xt.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_resetHeartbeat(){this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this._sendHeartbeat()),this.heartbeatIntervalMs)}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef})}}}class qt{constructor(e,t,r){const n="*"===r?`realtime:${t}`:`realtime:${t}:${r}`;this.subscription=e.channel(n)}getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=ht(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=ht(e.columns,e.old_record)),t}on(e,t){return this.subscription.on(e,(e=>{let r={schema:e.schema,table:e.table,commit_timestamp:e.commit_timestamp,eventType:e.type,new:{},old:{}};r=Object.assign(Object.assign({},r),this.getPayloadRecords(e)),t(r)})),this}subscribe(e=(()=>{})){return this.subscription.onError((t=>e("SUBSCRIPTION_ERROR",t))),this.subscription.onClose((()=>e("CLOSED"))),this.subscription.subscribe().receive("ok",(()=>e("SUBSCRIBED"))).receive("error",(t=>e("SUBSCRIPTION_ERROR",t))).receive("timeout",(()=>e("RETRYING_AFTER_TIMEOUT"))),this.subscription}}class Wt extends it{constructor(e,{headers:t={},schema:r,realtime:n,table:i}){super(e,{headers:t,schema:r}),this._subscription=new qt(n,r,i),this._realtime=n}on(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription.on(e,t)}}var Jt=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const Vt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);function Kt(e,t,r,n,i){return Jt(this,void 0,void 0,(function*(){return new Promise(((s,o)=>{Ne(t,((e,t,r,n)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))})(e,r,n,i)).then((e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?s(e):e.json()})).then((e=>s(e))).catch((e=>((e,t)=>{if("function"!=typeof e.json)return t(e);e.json().then((r=>t({message:Vt(r),status:(null==e?void 0:e.status)||500})))})(e,o)))}))}))}function Xt(e,t,r){return Jt(this,void 0,void 0,(function*(){return Kt("GET",e,t,r)}))}function Qt(e,t,r,n){return Jt(this,void 0,void 0,(function*(){return Kt("POST",e,r,n,t)}))}function Yt(e,t,r,n){return Jt(this,void 0,void 0,(function*(){return Kt("DELETE",e,r,n,t)}))}const Zt={"X-Client-Info":"storage-js/0.0.0"};var er=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};var tr=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const rr={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ir{constructor(e,t={},r){this.url=e,this.headers=t,this.bucketId=r}uploadOrUpdate(e,t,r,n){return tr(this,void 0,void 0,(function*(){try{let i;const s=Object.assign(Object.assign({},nr),n),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),i.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl)):(i=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType);const a=this._getFinalPath(t),c=yield Ne(`${this.url}/object/${a}`,{method:e,body:i,headers:o});if(c.ok)return{data:{Key:a},error:null};return{data:null,error:yield c.json()}}catch(Ur){return{data:null,error:Ur}}}))}upload(e,t,r){return tr(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,r)}))}update(e,t,r){return tr(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,r)}))}move(e,t){return tr(this,void 0,void 0,(function*(){try{return{data:yield Qt(`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(Ur){return{data:null,error:Ur}}}))}createSignedUrl(e,t){return tr(this,void 0,void 0,(function*(){try{const r=this._getFinalPath(e);let n=yield Qt(`${this.url}/object/sign/${r}`,{expiresIn:t},{headers:this.headers});const i=`${this.url}${n.signedURL}`;return n={signedURL:i},{data:n,error:null,signedURL:i}}catch(Ur){return{data:null,error:Ur,signedURL:null}}}))}download(e){return tr(this,void 0,void 0,(function*(){try{const t=this._getFinalPath(e),r=yield Xt(`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(Ur){return{data:null,error:Ur}}}))}getPublicUrl(e){try{const t=this._getFinalPath(e),r=`${this.url}/object/public/${t}`;return{data:{publicURL:r},error:null,publicURL:r}}catch(Ur){return{data:null,error:Ur,publicURL:null}}}remove(e){return tr(this,void 0,void 0,(function*(){try{return{data:yield Yt(`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(Ur){return{data:null,error:Ur}}}))}list(e,t,r){return tr(this,void 0,void 0,(function*(){try{const n=Object.assign(Object.assign(Object.assign({},rr),t),{prefix:e||""});return{data:yield Qt(`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(Ur){return{data:null,error:Ur}}}))}_getFinalPath(e){return`${this.bucketId}/${e}`}}class sr extends class{constructor(e,t={}){this.url=e,this.headers=Object.assign(Object.assign({},Zt),t)}listBuckets(){return er(this,void 0,void 0,(function*(){try{return{data:yield Xt(`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(Ur){return{data:null,error:Ur}}}))}getBucket(e){return er(this,void 0,void 0,(function*(){try{return{data:yield Xt(`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(Ur){return{data:null,error:Ur}}}))}createBucket(e,t={public:!1}){return er(this,void 0,void 0,(function*(){try{return{data:(yield Qt(`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers})).name,error:null}}catch(Ur){return{data:null,error:Ur}}}))}updateBucket(e,t){return er(this,void 0,void 0,(function*(){try{return{data:yield function(e,t,r,n){return Jt(this,void 0,void 0,(function*(){return Kt("PUT",e,r,n,t)}))}(`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(Ur){return{data:null,error:Ur}}}))}emptyBucket(e){return er(this,void 0,void 0,(function*(){try{return{data:yield Qt(`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(Ur){return{data:null,error:Ur}}}))}deleteBucket(e){return er(this,void 0,void 0,(function*(){try{return{data:yield Yt(`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(Ur){return{data:null,error:Ur}}}))}}{constructor(e,t={}){super(e,t)}from(e){return new ir(this.url,this.headers,e)}}var or=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(t){s(t)}}function a(e){try{c(n.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};const ar={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ke};class cr{constructor(e,t,r){if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const n=Object.assign(Object.assign({},ar),r);this.restUrl=`${e}/rest/v1`,this.realtimeUrl=`${e}/realtime/v1`.replace("http","ws"),this.authUrl=`${e}/auth/v1`,this.storageUrl=`${e}/storage/v1`,this.schema=n.schema,this.auth=this._initSupabaseAuthClient(n),this.realtime=this._initRealtimeClient(n.realtime)}get storage(){return new sr(this.storageUrl,this._getAuthHeaders())}from(e){const t=`${this.restUrl}/${e}`;return new Wt(t,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e})}rpc(e,t,{count:r=null}={}){return this._initPostgRESTClient().rpc(e,t,{count:r})}removeSubscription(e){return new Promise((t=>or(this,void 0,void 0,(function*(){try{yield this._closeSubscription(e);const r=this.getSubscriptions().length;if(!r){const{error:e}=yield this.realtime.disconnect();if(e)return t({error:e})}return t({error:null,data:{openSubscriptions:r}})}catch(Ur){return t({error:Ur})}}))))}_closeSubscription(e){return or(this,void 0,void 0,(function*(){e.isClosed()||(yield this._closeChannel(e))}))}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:n,headers:i}){const s={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ze({url:this.authUrl,headers:Object.assign(Object.assign({},i),s),autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:n})}_initRealtimeClient(e){return new zt(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},null==e?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new at(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema})}_getAuthHeaders(){var e,t;const r=ke,n=null!==(t=null===(e=this.auth.session())||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey;return r.apikey=this.supabaseKey,r.Authorization=`Bearer ${n}`,r}_closeChannel(e){return new Promise(((t,r)=>{e.unsubscribe().receive("ok",(()=>(this.realtime.remove(e),t(!0)))).receive("error",(e=>r(e)))}))}}const ur=(e,t,r)=>new cr(e,t,r);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hr=function(e,t){return(hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};var lr=function(){return(lr=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var dr,fr,pr,mr,gr=function(){function e(e){void 0===e&&(e={}),this.adapter=e}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}(),yr={ANCHOR:"mdc-menu-surface--anchor",ANIMATING_CLOSED:"mdc-menu-surface--animating-closed",ANIMATING_OPEN:"mdc-menu-surface--animating-open",FIXED:"mdc-menu-surface--fixed",IS_OPEN_BELOW:"mdc-menu-surface--is-open-below",OPEN:"mdc-menu-surface--open",ROOT:"mdc-menu-surface"},vr={CLOSED_EVENT:"MDCMenuSurface:closed",CLOSING_EVENT:"MDCMenuSurface:closing",OPENED_EVENT:"MDCMenuSurface:opened",FOCUSABLE_ELEMENTS:["button:not(:disabled)",'[href]:not([aria-disabled="true"])',"input:not(:disabled)","select:not(:disabled)","textarea:not(:disabled)",'[tabindex]:not([tabindex="-1"]):not([aria-disabled="true"])'].join(", ")},br={TRANSITION_OPEN_DURATION:120,TRANSITION_CLOSE_DURATION:75,MARGIN_TO_EDGE:32,ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO:.67};
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(fr=dr||(dr={}))[fr.BOTTOM=1]="BOTTOM",fr[fr.CENTER=2]="CENTER",fr[fr.RIGHT=4]="RIGHT",fr[fr.FLIP_RTL=8]="FLIP_RTL",(mr=pr||(pr={}))[mr.TOP_LEFT=0]="TOP_LEFT",mr[mr.TOP_RIGHT=4]="TOP_RIGHT",mr[mr.BOTTOM_LEFT=1]="BOTTOM_LEFT",mr[mr.BOTTOM_RIGHT=5]="BOTTOM_RIGHT",mr[mr.TOP_START=8]="TOP_START",mr[mr.TOP_END=12]="TOP_END",mr[mr.BOTTOM_START=9]="BOTTOM_START",mr[mr.BOTTOM_END=13]="BOTTOM_END";
/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var _r=function(e){function t(r){var n=e.call(this,lr(lr({},t.defaultAdapter),r))||this;return n.isSurfaceOpen=!1,n.isQuickOpen=!1,n.isHoistedElement=!1,n.isFixedPosition=!1,n.isHorizontallyCenteredOnViewport=!1,n.maxHeight=0,n.openAnimationEndTimerId=0,n.closeAnimationEndTimerId=0,n.animationRequestId=0,n.anchorCorner=pr.TOP_START,n.originCorner=pr.TOP_START,n.anchorMargin={top:0,right:0,bottom:0,left:0},n.position={x:0,y:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}hr(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),Object.defineProperty(t,"cssClasses",{get:function(){return yr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return vr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return br},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Corner",{get:function(){return pr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},removeClass:function(){},hasClass:function(){return!1},hasAnchor:function(){return!1},isElementInContainer:function(){return!1},isFocused:function(){return!1},isRtl:function(){return!1},getInnerDimensions:function(){return{height:0,width:0}},getAnchorDimensions:function(){return null},getWindowDimensions:function(){return{height:0,width:0}},getBodyDimensions:function(){return{height:0,width:0}},getWindowScroll:function(){return{x:0,y:0}},setPosition:function(){},setMaxHeight:function(){},setTransformOrigin:function(){},saveFocus:function(){},restoreFocus:function(){},notifyClose:function(){},notifyOpen:function(){},notifyClosing:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e=t.cssClasses,r=e.ROOT,n=e.OPEN;if(!this.adapter.hasClass(r))throw new Error(r+" class required in root element.");this.adapter.hasClass(n)&&(this.isSurfaceOpen=!0)},t.prototype.destroy=function(){clearTimeout(this.openAnimationEndTimerId),clearTimeout(this.closeAnimationEndTimerId),cancelAnimationFrame(this.animationRequestId)},t.prototype.setAnchorCorner=function(e){this.anchorCorner=e},t.prototype.flipCornerHorizontally=function(){this.originCorner=this.originCorner^dr.RIGHT},t.prototype.setAnchorMargin=function(e){this.anchorMargin.top=e.top||0,this.anchorMargin.right=e.right||0,this.anchorMargin.bottom=e.bottom||0,this.anchorMargin.left=e.left||0},t.prototype.setIsHoisted=function(e){this.isHoistedElement=e},t.prototype.setFixedPosition=function(e){this.isFixedPosition=e},t.prototype.setAbsolutePosition=function(e,t){this.position.x=this.isFinite(e)?e:0,this.position.y=this.isFinite(t)?t:0},t.prototype.setIsHorizontallyCenteredOnViewport=function(e){this.isHorizontallyCenteredOnViewport=e},t.prototype.setQuickOpen=function(e){this.isQuickOpen=e},t.prototype.setMaxHeight=function(e){this.maxHeight=e},t.prototype.isOpen=function(){return this.isSurfaceOpen},t.prototype.open=function(){var e=this;this.isSurfaceOpen||(this.adapter.saveFocus(),this.isQuickOpen?(this.isSurfaceOpen=!0,this.adapter.addClass(t.cssClasses.OPEN),this.dimensions=this.adapter.getInnerDimensions(),this.autoposition(),this.adapter.notifyOpen()):(this.adapter.addClass(t.cssClasses.ANIMATING_OPEN),this.animationRequestId=requestAnimationFrame((function(){e.adapter.addClass(t.cssClasses.OPEN),e.dimensions=e.adapter.getInnerDimensions(),e.autoposition(),e.openAnimationEndTimerId=setTimeout((function(){e.openAnimationEndTimerId=0,e.adapter.removeClass(t.cssClasses.ANIMATING_OPEN),e.adapter.notifyOpen()}),br.TRANSITION_OPEN_DURATION)})),this.isSurfaceOpen=!0))},t.prototype.close=function(e){var r=this;if(void 0===e&&(e=!1),this.isSurfaceOpen){if(this.adapter.notifyClosing(),this.isQuickOpen)return this.isSurfaceOpen=!1,e||this.maybeRestoreFocus(),this.adapter.removeClass(t.cssClasses.OPEN),this.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),void this.adapter.notifyClose();this.adapter.addClass(t.cssClasses.ANIMATING_CLOSED),requestAnimationFrame((function(){r.adapter.removeClass(t.cssClasses.OPEN),r.adapter.removeClass(t.cssClasses.IS_OPEN_BELOW),r.closeAnimationEndTimerId=setTimeout((function(){r.closeAnimationEndTimerId=0,r.adapter.removeClass(t.cssClasses.ANIMATING_CLOSED),r.adapter.notifyClose()}),br.TRANSITION_CLOSE_DURATION)})),this.isSurfaceOpen=!1,e||this.maybeRestoreFocus()}},t.prototype.handleBodyClick=function(e){var t=e.target;this.adapter.isElementInContainer(t)||this.close()},t.prototype.handleKeydown=function(e){var t=e.keyCode;("Escape"===e.key||27===t)&&this.close()},t.prototype.autoposition=function(){var e;this.measurements=this.getAutoLayoutmeasurements();var r=this.getoriginCorner(),n=this.getMenuSurfaceMaxHeight(r),i=this.hasBit(r,dr.BOTTOM)?"bottom":"top",s=this.hasBit(r,dr.RIGHT)?"right":"left",o=this.getHorizontalOriginOffset(r),a=this.getVerticalOriginOffset(r),c=this.measurements,u=c.anchorSize,h=c.surfaceSize,l=((e={})[s]=o,e[i]=a,e);u.width/h.width>br.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO&&(s="center"),(this.isHoistedElement||this.isFixedPosition)&&this.adjustPositionForHoistedElement(l),this.adapter.setTransformOrigin(s+" "+i),this.adapter.setPosition(l),this.adapter.setMaxHeight(n?n+"px":""),this.hasBit(r,dr.BOTTOM)||this.adapter.addClass(t.cssClasses.IS_OPEN_BELOW)},t.prototype.getAutoLayoutmeasurements=function(){var e=this.adapter.getAnchorDimensions(),t=this.adapter.getBodyDimensions(),r=this.adapter.getWindowDimensions(),n=this.adapter.getWindowScroll();return e||(e={top:this.position.y,right:this.position.x,bottom:this.position.y,left:this.position.x,width:0,height:0}),{anchorSize:e,bodySize:t,surfaceSize:this.dimensions,viewportDistance:{top:e.top,right:r.width-e.right,bottom:r.height-e.bottom,left:e.left},viewportSize:r,windowScroll:n}},t.prototype.getoriginCorner=function(){var e,r,n=this.originCorner,i=this.measurements,s=i.viewportDistance,o=i.anchorSize,a=i.surfaceSize,c=t.numbers.MARGIN_TO_EDGE;this.hasBit(this.anchorCorner,dr.BOTTOM)?(e=s.top-c+this.anchorMargin.bottom,r=s.bottom-c-this.anchorMargin.bottom):(e=s.top-c+this.anchorMargin.top,r=s.bottom-c+o.height-this.anchorMargin.top),!(r-a.height>0)&&e>r&&(n=this.setBit(n,dr.BOTTOM));var u,h,l=this.adapter.isRtl(),d=this.hasBit(this.anchorCorner,dr.FLIP_RTL),f=this.hasBit(this.anchorCorner,dr.RIGHT)||this.hasBit(n,dr.RIGHT),p=!1;(p=l&&d?!f:f)?(u=s.left+o.width+this.anchorMargin.right,h=s.right-this.anchorMargin.right):(u=s.left+this.anchorMargin.left,h=s.right+o.width-this.anchorMargin.left);var m=u-a.width>0,g=h-a.width>0,y=this.hasBit(n,dr.FLIP_RTL)&&this.hasBit(n,dr.RIGHT);return g&&y&&l||!m&&y?n=this.unsetBit(n,dr.RIGHT):(m&&p&&l||m&&!p&&f||!g&&u>=h)&&(n=this.setBit(n,dr.RIGHT)),n},t.prototype.getMenuSurfaceMaxHeight=function(e){if(this.maxHeight>0)return this.maxHeight;var r=this.measurements.viewportDistance,n=0,i=this.hasBit(e,dr.BOTTOM),s=this.hasBit(this.anchorCorner,dr.BOTTOM),o=t.numbers.MARGIN_TO_EDGE;return i?(n=r.top+this.anchorMargin.top-o,s||(n+=this.measurements.anchorSize.height)):(n=r.bottom-this.anchorMargin.bottom+this.measurements.anchorSize.height-o,s&&(n-=this.measurements.anchorSize.height)),n},t.prototype.getHorizontalOriginOffset=function(e){var t=this.measurements.anchorSize,r=this.hasBit(e,dr.RIGHT),n=this.hasBit(this.anchorCorner,dr.RIGHT);if(r){var i=n?t.width-this.anchorMargin.left:this.anchorMargin.right;return this.isHoistedElement||this.isFixedPosition?i-(this.measurements.viewportSize.width-this.measurements.bodySize.width):i}return n?t.width-this.anchorMargin.right:this.anchorMargin.left},t.prototype.getVerticalOriginOffset=function(e){var t=this.measurements.anchorSize,r=this.hasBit(e,dr.BOTTOM),n=this.hasBit(this.anchorCorner,dr.BOTTOM);return r?n?t.height-this.anchorMargin.top:-this.anchorMargin.bottom:n?t.height+this.anchorMargin.bottom:this.anchorMargin.top},t.prototype.adjustPositionForHoistedElement=function(e){var t,r,n=this.measurements,i=n.windowScroll,s=n.viewportDistance,o=n.surfaceSize,a=n.viewportSize,c=Object.keys(e);try{for(var u=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),h=u.next();!h.done;h=u.next()){var l=h.value,d=e[l]||0;!this.isHorizontallyCenteredOnViewport||"left"!==l&&"right"!==l?(d+=s[l],this.isFixedPosition||("top"===l?d+=i.y:"bottom"===l?d-=i.y:"left"===l?d+=i.x:d-=i.x),e[l]=d):e[l]=(a.width-o.width)/2}}catch(f){t={error:f}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}},t.prototype.maybeRestoreFocus=function(){var e=this.adapter.isFocused(),t=document.activeElement&&this.adapter.isElementInContainer(document.activeElement);(e||t)&&this.adapter.restoreFocus()},t.prototype.hasBit=function(e,t){return Boolean(e&t)},t.prototype.setBit=function(e,t){return e|t},t.prototype.unsetBit=function(e,t){return e^t},t.prototype.isFinite=function(e){return"number"==typeof e&&isFinite(e)},t}(gr),wr={animation:{prefixed:"-webkit-animation",standard:"animation"},transform:{prefixed:"-webkit-transform",standard:"transform"},transition:{prefixed:"-webkit-transition",standard:"transition"}};
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function Tr(e,t){if(function(e){return Boolean(e.document)&&"function"==typeof e.document.createElement}(e)&&t in wr){var r=e.document.createElement("div"),n=wr[t],i=n.standard,s=n.prefixed;return i in r.style?i:s}return t}const Or=/^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,Er=/^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;function $r(e){let t,r=[];function n(t){!function(e,t){const r=e.$$.callbacks[t.type];r&&r.slice().forEach((e=>e.call(this,t)))}(e,t)}return e.$on=(e,n)=>{let i=e,s=()=>{};t?s=t(i,n):r.push([i,n]);return i.match(Or)&&console&&console.warn('Event modifiers in SMUI now use "$" instead of ":", so that all events can be bound with modifiers. Please update your event binding: ',i),(...e)=>{s()}},e=>{const i=[],s={};t=(t,r)=>{let o=t,a=r,c=!1;const u=o.match(Or),h=o.match(Er),l=u||h;if(o.match(/^SMUI:\w+:/)){const e=o.split(":");let t="";for(let r=0;r<e.length;r++)t+=r===e.length-1?":"+e[r]:e[r].split("-").map((e=>e.slice(0,1).toUpperCase()+e.slice(1))).join("");console.warn(`The event ${o.split("$")[0]} has been renamed to ${t.split("$")[0]}.`),o=t}if(l){const e=o.split(u?":":"$");o=e[0];const t=Object.fromEntries(e.slice(1).map((e=>[e,!0])));t.passive&&(c=c||{},c.passive=!0),t.nonpassive&&(c=c||{},c.passive=!1),t.capture&&(c=c||{},c.capture=!0),t.once&&(c=c||{},c.once=!0),t.preventDefault&&(a=N(a)),t.stopPropagation&&(d=a,a=function(e){return e.stopPropagation(),d.call(this,e)})}var d;const f=R(e,o,a,c),p=()=>{f();const e=i.indexOf(p);e>-1&&i.splice(e,1)};return i.push(p),o in s||(s[o]=R(e,o,n)),p};for(let n=0;n<r.length;n++)t(r[n][0],r[n][1]);return{destroy:()=>{for(let e=0;e<i.length;e++)i[e]();for(let e of Object.entries(s))e[1]()}}}}function Sr(e){return Object.entries(e).filter((([e,t])=>""!==e&&t)).map((([e])=>e)).join(" ")}function xr(e){let t,r,n,i,s;const o=e[6].default,c=m(o,e,e[5],null);let u=[e[3]],d={};for(let h=0;h<u.length;h+=1)d=a(d,u[h]);return{c(){t=C("div"),c&&c.c(),this.h()},l(e){t=L(e,"DIV",{});var r=D(t);c&&c.l(r),r.forEach(P),this.h()},h(){U(t,d)},m(o,a){x(o,t,a),c&&c.m(t,null),e[7](t),n=!0,i||(s=[T(r=kr.call(null,t,e[0])),T(e[2].call(null,t))],i=!0)},p(e,[i]){c&&c.p&&(!n||32&i)&&v(c,o,e,e[5],n?y(o,e[5],i,null):b(e[5]),null),U(t,d=_e(u,[8&i&&e[3]])),r&&l(r.update)&&1&i&&r.update.call(null,e[0])},i(e){n||(ye(c,e),n=!0)},o(e){ve(c,e),n=!1},d(r){r&&P(t),c&&c.d(r),e[7](null),i=!1,h(s)}}}function Pr(e,t,r){const n=["use","getElement"];let i=w(t,n),{$$slots:s={},$$scope:o}=t,{use:c=[]}=t;const u=$r(Q());let h;return e.$$set=e=>{t=a(a({},t),_(e)),r(3,i=w(t,n)),"use"in e&&r(0,c=e.use),"$$scope"in e&&r(5,o=e.$$scope)},[c,h,u,i,function(){return h},o,s,function(e){ne[e?"unshift":"push"]((()=>{h=e,r(1,h)}))}]}const Cr={component:class extends Pe{constructor(e){super(),xe(this,e,Pr,xr,d,{use:0,getElement:4})}get getElement(){return this.$$.ctx[4]}},class:"",classMap:{},contexts:{},props:{}};function jr(e,t,r,n={bubbles:!0}){if("undefined"!=typeof Event&&e){const i=new CustomEvent(t,Object.assign(Object.assign({},n),{detail:r}));return("getElement"in e?e.getElement():e).dispatchEvent(i),i}}function kr(e,t){let r=[];if(t)for(let n=0;n<t.length;n++){const i=t[n],s=Array.isArray(i)?i[0]:i;Array.isArray(i)&&i.length>1?r.push(s(e,i[1])):r.push(s(e))}return{update(e){if((e&&e.length||0)!=r.length)throw new Error("You must not change the length of an actions array.");if(e)for(let t=0;t<e.length;t++){const n=r[t];if(n&&n.update){const r=e[t];Array.isArray(r)&&r.length>1?n.update(r[1]):n.update()}}},destroy(){for(let e=0;e<r.length;e++){const t=r[e];t&&t.destroy&&t.destroy()}}}}Object.assign({},Cr);const{document:Ar}=be;function Ir(e){let t,r,n,i,o,c,u,d;const f=e[29].default,p=m(f,e,e[28],null);let g=[{class:n=Sr(s({[e[2]]:!0,"mdc-menu-surface":!0,"mdc-menu-surface--fixed":e[5],"mdc-menu-surface--open":e[4],"smui-menu-surface--static":e[4],"mdc-menu-surface--fullwidth":e[6]},e[9]))},{style:i=Object.entries(e[10]).map(Rr).concat([e[3]]).join(" ")},e[12]],_={};for(let s=0;s<g.length;s+=1)_=a(_,g[s]);return{c(){t=A(),r=C("div"),p&&p.c(),this.h()},l(e){t=z(e),r=L(e,"DIV",{class:!0,style:!0});var n=D(r);p&&p.l(n),n.forEach(P),this.h()},h(){U(r,_)},m(n,i){x(n,t,i),x(n,r,i),p&&p.m(r,null),e[31](r),c=!0,u||(d=[R(Ar.body,"click",e[30],!0),T(o=kr.call(null,r,e[1])),T(e[11].call(null,r)),R(r,"keydown",e[32])],u=!0)},p(e,t){p&&p.p&&(!c||268435456&t[0])&&v(p,f,e,e[28],c?y(f,e[28],t,null):b(e[28]),null),U(r,_=_e(g,[(!c||628&t[0]&&n!==(n=Sr(s({[e[2]]:!0,"mdc-menu-surface":!0,"mdc-menu-surface--fixed":e[5],"mdc-menu-surface--open":e[4],"smui-menu-surface--static":e[4],"mdc-menu-surface--fullwidth":e[6]},e[9]))))&&{class:n},(!c||1032&t[0]&&i!==(i=Object.entries(e[10]).map(Rr).concat([e[3]]).join(" ")))&&{style:i},4096&t[0]&&e[12]])),o&&l(o.update)&&2&t[0]&&o.update.call(null,e[1])},i(e){c||(ye(p,e),c=!0)},o(e){ve(p,e),c=!1},d(n){n&&P(t),n&&P(r),p&&p.d(n),e[31](null),u=!1,h(d)}}}const Rr=([e,t])=>`${e}: ${t};`;function Nr(e,t,r){const n=["use","class","style","static","anchor","fixed","open","fullWidth","quickOpen","anchorElement","anchorCorner","anchorMargin","maxHeight","horizontallyCenteredOnViewport","isOpen","setOpen","setAbsolutePosition","setIsHoisted","getElement"];let i=w(t,n),{$$slots:s={},$$scope:o}=t;var c,u,h;const l=$r(Q());let d,f,p,{use:m=[]}=t,{class:g=""}=t,{style:y=""}=t,{static:v=!1}=t,{anchor:b=!0}=t,{fixed:T=!1}=t,{open:O=v}=t,{fullWidth:E=!1}=t,{quickOpen:$=!1}=t,{anchorElement:S}=t,{anchorCorner:x}=t,{anchorMargin:P={top:0,right:0,bottom:0,left:0}}=t,{maxHeight:C=0}=t,{horizontallyCenteredOnViewport:j=!1}=t,k={},A={};te("SMUI:list:role","menu"),te("SMUI:list:item:role","menuitem");const I=pr;var R;function N(e){return e in k?k[e]:B().classList.contains(e)}function M(e){k[e]||r(9,k[e]=!0,k)}function U(e){e in k&&!k[e]||r(9,k[e]=!1,k)}function D(e){f.close(e),r(0,O=!1)}function B(){return d}Y((()=>{r(8,f=new _r({addClass:M,removeClass:U,hasClass:N,hasAnchor:()=>!!S,notifyClose:()=>{r(0,O=v),O||jr(d,"MDCMenuSurface:closed")},notifyClosing:()=>{r(0,O=v),O||jr(d,"MDCMenuSurface:closing")},notifyOpen:()=>{r(0,O=!0),jr(d,"MDCMenuSurface:opened")},isElementInContainer:e=>d.contains(e),isRtl:()=>"rtl"===getComputedStyle(d).getPropertyValue("direction"),setTransformOrigin:e=>{const t=`${Tr(window,"transform")}-origin`;r(10,A[t]=e,A)},isFocused:()=>document.activeElement===d,saveFocus:()=>{var e;p=null!==(e=document.activeElement)&&void 0!==e?e:void 0},restoreFocus:()=>{d.contains(document.activeElement)&&p&&"focus"in p&&p.focus()},getInnerDimensions:()=>({width:d.offsetWidth,height:d.offsetHeight}),getAnchorDimensions:()=>S?S.getBoundingClientRect():null,getWindowDimensions:()=>({width:window.innerWidth,height:window.innerHeight}),getBodyDimensions:()=>({width:document.body.clientWidth,height:document.body.clientHeight}),getWindowScroll:()=>({x:window.pageXOffset,y:window.pageYOffset}),setPosition:e=>{r(10,A.left="left"in e?`${e.left}px`:"",A),r(10,A.right="right"in e?`${e.right}px`:"",A),r(10,A.top="top"in e?`${e.top}px`:"",A),r(10,A.bottom="bottom"in e?`${e.bottom}px`:"",A)},setMaxHeight:e=>{r(10,A.maxHeight=e,A)}}));return jr(d,"SMUIMenuSurface:mount",{get open(){return O},set open(e){r(0,O=e)},closeProgrammatic:D}),f.init(),()=>{var e;const t=f.isHoistedElement;f.destroy(),t&&(null===(e=d.parentNode)||void 0===e||e.removeChild(d))}})),R=()=>{var e;b&&d&&(null===(e=d.parentElement)||void 0===e||e.classList.remove("mdc-menu-surface--anchor"))},Q().$$.on_destroy.push(R);return e.$$set=e=>{t=a(a({},t),_(e)),r(12,i=w(t,n)),"use"in e&&r(1,m=e.use),"class"in e&&r(2,g=e.class),"style"in e&&r(3,y=e.style),"static"in e&&r(4,v=e.static),"anchor"in e&&r(14,b=e.anchor),"fixed"in e&&r(5,T=e.fixed),"open"in e&&r(0,O=e.open),"fullWidth"in e&&r(6,E=e.fullWidth),"quickOpen"in e&&r(15,$=e.quickOpen),"anchorElement"in e&&r(13,S=e.anchorElement),"anchorCorner"in e&&r(16,x=e.anchorCorner),"anchorMargin"in e&&r(17,P=e.anchorMargin),"maxHeight"in e&&r(18,C=e.maxHeight),"horizontallyCenteredOnViewport"in e&&r(19,j=e.horizontallyCenteredOnViewport),"$$scope"in e&&r(28,o=e.$$scope)},e.$$.update=()=>{234897536&e.$$.dirty[0]&&d&&b&&!(null===r(25,c=d.parentElement)||void 0===c?void 0:c.classList.contains("mdc-menu-surface--anchor"))&&(null===r(26,u=d.parentElement)||void 0===u||u.classList.add("mdc-menu-surface--anchor"),r(13,S=null!==r(27,h=d.parentElement)&&void 0!==h?h:void 0)),257&e.$$.dirty[0]&&f&&f.isOpen()!==O&&(O?f.open():f.close()),33024&e.$$.dirty[0]&&f&&f.setQuickOpen($),288&e.$$.dirty[0]&&f&&f.setFixedPosition(T),262400&e.$$.dirty[0]&&f&&C>0&&f.setMaxHeight(C),524544&e.$$.dirty[0]&&f&&f.setIsHorizontallyCenteredOnViewport(j),65792&e.$$.dirty[0]&&f&&null!=x&&("string"==typeof x?f.setAnchorCorner(I[x]):f.setAnchorCorner(x)),131328&e.$$.dirty[0]&&f&&f.setAnchorMargin(P)},[O,m,g,y,v,T,E,d,f,k,A,l,i,S,b,$,x,P,C,j,function(){return O},function(e){r(0,O=e)},function(e,t){return f.setAbsolutePosition(e,t)},function(e){return f.setIsHoisted(e)},B,c,u,h,o,s,e=>f&&O&&f.handleBodyClick(e),function(e){ne[e?"unshift":"push"]((()=>{d=e,r(7,d)}))},e=>f&&f.handleKeydown(e)]}class Mr extends Pe{constructor(e){super(),xe(this,e,Nr,Ir,d,{use:1,class:2,style:3,static:4,anchor:14,fixed:5,open:0,fullWidth:6,quickOpen:15,anchorElement:13,anchorCorner:16,anchorMargin:17,maxHeight:18,horizontallyCenteredOnViewport:19,isOpen:20,setOpen:21,setAbsolutePosition:22,setIsHoisted:23,getElement:24},null,[-1,-1])}get isOpen(){return this.$$.ctx[20]}get setOpen(){return this.$$.ctx[21]}get setAbsolutePosition(){return this.$$.ctx[22]}get setIsHoisted(){return this.$$.ctx[23]}get getElement(){return this.$$.ctx[24]}}export{Y as A,a as B,je as C,m as D,v as E,b as F,y as G,S as H,o as I,ee as J,J as K,R as L,h as M,p as N,j as O,F as P,V as Q,T as R,Pe as S,N as T,Mr as U,ne as V,K as W,ur as X,W as Y,l as Z,D as a,M as b,L as c,P as d,C as e,x as f,G as g,q as h,xe as i,Te as j,A as k,I as l,Oe as m,z as n,Ee as o,_e as p,we as q,me as r,d as s,k as t,ve as u,$e as v,ge as w,ye as x,te as y,Z as z};
